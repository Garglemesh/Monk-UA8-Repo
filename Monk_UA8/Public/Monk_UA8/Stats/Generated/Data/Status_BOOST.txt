new entry "FLURRYOFBLOWS_FIRSTSTRIKE"
type "StatusData"
data "StatusType" "BOOST"
data "Icon" "Action_Monk_FlurryOfBlows"
data "DisplayName" "h71ad0334g6051g4b97g9b4dg4d338bc5465c;1"
data "Description" "h8ed549a4ga454g49b4gb319g7335ccf73b3a;6"
data "Boosts" "UnlockSpell(Target_FlurryOfBlows_Single);UnlockSpellVariant(HasStringInSpellRoll('MeleeUnarmedAttack') and (HasUseCosts('ActionPoint')),ModifyIconGlow(),ModifyTooltipDescription(),ModifyUseCosts(Replace,ActionPoint,0,0,ActionPoint));IF(HasPassive('OpenHandUnlock',context.Source)):UnlockSpell(Target_OpenHandTechnique_Knock_Single);IF(HasPassive('OpenHandUnlock',context.Source)):UnlockSpell(Target_OpenHandTechnique_NoReactions_Single);IF(HasPassive('OpenHandUnlock',context.Source)):UnlockSpell(Target_OpenHandTechnique_Push_Single);"
data "RemoveEvents" "OnAttack"
data "RemoveConditions" "HasStringInSpellRoll('MeleeUnarmedAttack') and not SpellId('Shout_FlurryOfBlows')"
data "OnRemoveFunctors" "ApplyStatus(SELF, FLURRYOFBLOWS_SECONDSTRIKE, 100, 1)"

new entry "FLURRYOFBLOWS_SECONDSTRIKE"
type "StatusData"
data "StatusType" "BOOST"
using "FLURRYOFBLOWS_FIRSTSTRIKE"
data "DisplayName" "h06435e3agfca1g43efg88aag21dcd9eb7544;1"
data "RemoveEvents" "OnAttack"
data "RemoveConditions" "HasStringInSpellRoll('MeleeUnarmedAttack') and not SpellId('Shout_FlurryOfBlows')"
data "OnRemoveFunctors" "IF(HasPassive('HeightenedDiscipline',context.Source)):ApplyStatus(SELF, FLURRYOFBLOWS_THIRDSTRIKE, 100, 1)"

new entry "FLURRYOFBLOWS_THIRDSTRIKE"
type "StatusData"
data "StatusType" "BOOST"
using "FLURRYOFBLOWS_FIRSTSTRIKE"
data "DisplayName" "h06435e3agfca1g43efg88aag21dcd9eb7544;1"
data "RemoveEvents" "OnAttack"
data "RemoveConditions" "HasStringInSpellRoll('MeleeUnarmedAttack') and not SpellId('Shout_FlurryOfBlows')"
data "OnRemoveFunctors" ""

new entry "UNCANNY_METABOLISM"
type "StatusData"
data "StatusType" "BOOST"
data "DisplayName" "h97ae83afg48a4g45ccg9edag0eb552007fc0;1"
data "Description" "h9281e830g4434g409dg9cddg41e93c4e4516;1"
data "DescriptionParams" "RegainHitPoints(LevelMapValue(MartialArts)+ClassLevel(Monk))"
data "TooltipDamageList" "RegainHitPoints(LevelMapValue(MartialArts)+ClassLevel(Monk))"
data "Icon" "Spell_HarmonyOfFireAndWater"
data "StackId" "UNCANNY_METABOLISM"
data "TickType" "EndTurn"
data "Boosts" "UnlockSpell(Shout_UncannyMetabolism)"

new entry "DEFLECT_ATTACKS"
type "StatusData"
data "StatusType" "BOOST"
data "DisplayName" "h199c545dgf0f6g41f0ga7d4ga418e899775e;1"
data "Description" "h2d7406degc858g47c2gbb3bg020a9f3ac0bd;1"
data "DescriptionParams" "6+DexterityModifier"
data "Icon" "Action_Monk_DeflectMissile"
data "StackId" "DEFLECT_ATTACKS"
data "Boosts" "IF(IsAttackType(AttackType.RangedWeaponAttack) or IsAttackType(AttackType.MeleeWeaponAttack) or IsAttackType(AttackType.MeleeUnarmedAttack)):DamageReduction(All,Flat,1d10+DexterityModifier)"
data "RemoveConditions" "(IsAttackType(AttackType.RangedWeaponAttack) or IsAttackType(AttackType.MeleeWeaponAttack) or IsAttackType(AttackType.MeleeUnarmedAttack) or (SpellTypeIs(SpellType.Throw) and HasWeaponProperty(WeaponProperties.Thrown,context.HitDescription.ThrownObject))) and (HasDamageEffectFlag(DamageFlags.Hit) or HasDamageEffectFlag(DamageFlags.Critical)) and not (IsCriticalMiss() or IsMiss())"
data "RemoveEvents" "OnAttacked"
data "StatusPropertyFlags" "DisableOverhead;DisableCombatlog"
data "OnRemoveFunctors" "IF(RemoveCause(StatusRemoveCause.Condition)):UseActionResource(ReactionActionPoint,1) "
data "StatusGroups" "SG_RemoveOnRespec"

new entry "DEFLECT_ATTACKS_TOGGLE"
type "StatusData"
data "StatusType" "BOOST"
data "DisplayName" "h59d50637g5343g4072gb725g00edef2bb7f7;1"
data "StackId" "DEFLECT_ATTACKS_TOGGLE"
data "TickFunctors" "ApplyStatus(DEFLECT_ATTACKS,100,-1) "
data "StatusPropertyFlags" "DisableOverhead;DisableCombatlog;DisablePortraitIndicator"
data "OnApplyFunctors" "IF(HasActionResource('ReactionActionPoint', 1, 0, false, false, context.Source)):ApplyStatus(DEFLECT_ATTACKS,100,-1)	"
data "StatusGroups" "SG_RemoveOnRespec"

new entry "DEFLECT_ATTACKS_HIT_TOGGLE"
type "StatusData"
data "StatusType" "BOOST"
data "DisplayName" "hb54f2d36g3747g46a6ga07egd53f55597fa5;2"
data "StackId" "DEFLECT_ATTACKS_HIT_TOGGLE"
data "RemoveConditions" "(IsAttackType(AttackType.RangedWeaponAttack) or IsAttackType(AttackType.MeleeWeaponAttack) or IsAttackType(AttackType.MeleeUnarmedAttack) or (SpellTypeIs(SpellType.Throw) and HasWeaponProperty(WeaponProperties.Thrown,context.HitDescription.ThrownObject))) and TotalDamageDoneGreaterThan(0) "
data "RemoveEvents" "OnAttacked"
data "StatusPropertyFlags" "DisableOverhead;DisableCombatlog;DisablePortraitIndicator"
data "OnRemoveFunctors" "IF(RemoveCause(StatusRemoveCause.Condition)):UseActionResource(ReactionActionPoint,1) "
data "StatusGroups" "SG_RemoveOnRespec"

new entry "ELEMENTAL_ATTUNEMENT"
type "StatusData"
data "StatusType" "BOOST"
data "DisplayName" "hdf929828gb2deg4d6egab5fg106ef774cb74;1"
data "Description" "hc54de76dg87d0g486fgaacag1c123d5a9868;1"
data "DescriptionParams" ""
data "TooltipDamageList" ""
data "Icon" "Spell_HarmonyOfFireAndWater"
data "StackId" "ELEMENTAL_ATTUNEMENT"
data "RemoveConditions" "HasAnyStatus({'SG_Incapacitated','SG_Stunned','SG_Polymorph'})"
data "RemoveEvents" "OnStatusApplied"
data "TickType" "EndTurn"
data "Boosts" "UnlockSpellVariant(MeleeUnarmedAttackCheck(),ModifyTargetRadius(Override,3.5));"
data "Passives" "ElementalStrikesAcid;ElementalStrikesCold;ElementalStrikesFire;ElementalStrikesLightning;ElementalStrikesPush;ElementalStrikesPull;"

new entry "DARKNESS_CASTER"
type "StatusData"
data "StatusType" "BOOST"
data "DisplayName" "ha391f8fegbc9fg4d3dga3d1g1a9a1e23b615;2"
data "StackId" "DARKNESS_CASTER"
data "TickType" "StartTurn"
data "StatusPropertyFlags" "DisableOverhead;DisableCombatlog;DisablePortraitIndicator"
data "OnApplyFunctors" "ApplyStatus(SELF,DARKNESS_RECAST,100,10)"

new entry "DARKNESS_CASTER_RECAST"
type "StatusData"
data "StatusType" "BOOST"
using "DARKNESS_CASTER"
data "OnApplyFunctors" ""

new entry "DARKNESS_RECAST"
type "StatusData"
data "StatusType" "BOOST"
data "DisplayName" "hf3eb3862g3b2bg4f0dg8816gbaf90f310077;2"
data "StackId" "DARKNESS_RECAST"
data "TickType" "EndTurn"
data "Boosts" "UnlockSpell(Target_Darkness_Recast)"
data "Passives" "DevilsSight"
data "RemoveConditions" "not (HasStatus('DARKNESS_CASTER') or HasStatus('DARKNESS_CASTER_RECAST'))"
data "RemoveEvents" "OnTurn;OnDamage"
data "StatusPropertyFlags" "DisableOverhead;DisablePortraitIndicator;DisableCombatlog"

new entry "STUN_ROLL"
type "StatusData"
data "StatusType" "BOOST"
data "DisplayName" "hba25318bgc1aeg457cgaf2agbc4ddb2381bf;1"
data "TooltipSave" "Wisdom"
data "TooltipDamage" "DealDamage(LevelMapValue(MartialArts)+WisdomModifier,Force)"
data "TooltipStatusApply" "ApplyStatus('STUNNED',100,1)"
data "OnApplyRoll" "not SavingThrow(Ability.Constitution,SourceSpellDC())"
data "OnApplySuccess" "ApplyStatus(STUNNED,100,1)"
data "OnApplyFail" "DealDamage(Cause.LevelMapValue(MartialArts)+Cause.WisdomModifier,Force)"
data "StatusPropertyFlags" "DisableOverhead;DisableCombatlog;DisablePortraitIndicator"

new entry "SLOWFALL_PASSIVE_TECHNICAL_2024"
type "StatusData"
data "StatusType" "BOOST"
data "DisplayName" "h617ec5edg40a2g4fefga310gdee969416e36;1"
data "Description" "hdd85cc08ga7e4g46f1gaf2ag59c6f27cc135;1"
data "Icon" "Spell_Transmutation_FeatherFall"
data "StackId" "SLOWFALL_PASSIVE_TECHNICAL_2024"
data "TickType" "StartTurn"
data "Boosts" "IgnoreFallDamage()"
data "RemoveConditions" "IsFallDamage()"
data "RemoveEvents" "OnDamage"
data "StatusPropertyFlags" "DisableOverhead;DisablePortraitIndicator;DisableCombatlog"
data "OnRemoveFunctors" "IF(RemoveCause(StatusRemoveCause.Condition)):UseActionResource(ReactionActionPoint,1)"

new entry "HEIGHTENED_STEP"
type "StatusData"
data "StatusType" "BOOST"
data "DisplayName" "h7f77cd41gb373g49abg8a12g6ecaefa43ad1;1"
data "Description" ";1"
data "Icon" "Spell_Conjuration_DimensionDoor"
data "StackId" "HEIGHTENED_STEP"
data "TickType" "EndTurn"
data "Boosts" "UnlockSpell(Teleportation_StepOfTheWind);"
data "RemoveConditions" "SpellId('Teleportation_StepOfTheWind')"
data "RemoveEvents" "OnSpellCast"
data "StatusPropertyFlags" "DisableOverhead;DisablePortraitIndicator;DisableCombatlog"

new entry "HEIGHTENED_DEFENSE"
type "StatusData"
data "StatusType" "BOOST"
data "DisplayName" "he2f605fage207g4c50gb859gfa82f99786be;1"
data "Description" "h36371386ge684g456cga6ceg11ceef19390f;2"
data "DescriptionParams" "GainTemporaryHitPoints(LevelMapValue(MartialArts)+LevelMapValue(MartialArts))"
data "Icon" "PassiveFeature_AspectOfTheBeast_Stallion"
data "StackId" "HEIGHTENED_DEFENSE"
data "Boosts" "TemporaryHP(LevelMapValue(MartialArts)+LevelMapValue(MartialArts))"
data "RemoveConditions" "not HasTemporaryHP()"
data "RemoveEvents" "OnDamage"
data "StatusGroups" "SG_RemoveOnRespec"

new entry "SELFRESTORATION_CHARMED"
type "StatusData"
data "StatusType" "BOOST"
data "DisplayName" ";1"
data "Description" ";1"
data "Icon" "Action_Monk_StillnessOfMind"
data "StackId" "SELFRESTORATION_CHARMED"
data "TickType" "EndTurn"
data "OnRemoveFunctors" "RemoveStatus(SG_Charmed)"
data "StatusPropertyFlags" "DisableOverhead;DisablePortraitIndicator;DisableCombatlog"

new entry "SELFRESTORATION_FRIGHTENED"
type "StatusData"
data "StatusType" "BOOST"
data "DisplayName" ";1"
data "Description" ";1"
data "Icon" "Action_Monk_StillnessOfMind"
data "StackId" "SELFRESTORATION_FRIGHTENED"
data "TickType" "EndTurn"
data "OnRemoveFunctors" "IF(not HasStatus('SELFRESTORATION_CHARMED')):RemoveStatus(SG_Frightened);"
data "StatusPropertyFlags" "DisableOverhead;DisablePortraitIndicator;DisableCombatlog"

new entry "SELFRESTORATION_POISONED"
type "StatusData"
data "StatusType" "BOOST"
data "DisplayName" ";1"
data "Description" ";1"
data "Icon" "Action_Monk_StillnessOfMind"
data "StackId" "SELFRESTORATION_POISONED"
data "TickType" "EndTurn"
data "OnRemoveFunctors" "IF(not HasStatus('SELFRESTORATION_CHARMED') and not HasStatus('SELFRESTORATION_FRIGHTENED')):RemoveStatus(SG_Poisoned)"
data "StatusPropertyFlags" "DisableOverhead;DisablePortraitIndicator;DisableCombatlog"

new entry "IMPROVED_SHADOW_STEP"
type "StatusData"
data "StatusType" "BOOST"
data "DisplayName" "hcaad2a83ge8f1g464cgb44fgb55b76d28fa7;2"
data "Description" "h6ce2b4b7gb27bg46e4g87f3g11f1afcf915d;3"
data "Icon" "Action_Monk_ShadowStep"
data "Boosts" "IF(IsMeleeAttack()):Advantage(AttackRoll);UnlockSpellVariant(SpellId('Target_UnarmedStrike_Monk'),ModifyUseCosts(Replace,BonusActionPoint,0,0,BonusActionPoint));"
data "RemoveConditions" "IsMeleeAttack()"
data "RemoveEvents" "OnAttack"
data "StatusGroups" "SG_RemoveOnRespec"

new entry "IMPROVED_SHADOW_STEP"
type "StatusData"
data "StatusType" "BOOST"
data "DisplayName" "h359c26e8g838cg42ffgb555g7954357fd1c8;1"
data "Description" "h3b540addg5cf8g4f66g937dg5577896ff904;1"
data "Icon" "Action_Monk_ShadowStep"
data "Boosts" "UnlockSpellVariant(SpellId('Target_UnarmedStrike_Monk'),ModifyUseCosts(Replace,BonusActionPoint,0,0,BonusActionPoint),ModifyIconGlow());"
data "RemoveConditions" "SpellId('Target_UnarmedStrike_Monk')"
data "RemoveEvents" "OnAttack"

new entry "FLEET_STEP"
type "StatusData"
data "StatusType" "BOOST"
data "DisplayName" "ha45b5615gf3f8g4c70ga9d3g47217c068b3f;1"
data "Description" "hbcd45899g4476g4d71g911cg5c02f84ca1e1;1"
data "Icon" "Action_Monk_StepOfTheWind"
data "StackId" "HEIGHTENED_STEP"
data "TickType" "EndTurn"
data "Boosts" "UnlockSpellVariant('Shout_Dash_StepOfTheWind', ModifyUseCosts(Replace,BonusActionPoint,0,0,BonusActionPoint),ModifyIconGlow());UnlockSpellVariant('Shout_Dash_Disengage_StepOfTheWind', ModifyUseCosts(Replace,BonusActionPoint,0,0,BonusActionPoint),ModifyIconGlow());"
data "RemoveConditions" "SpellId('Shout_Dash_StepOfTheWind') or SpellId('Shout_Dash_Disengage_StepOfTheWind')"
data "RemoveEvents" "OnSpellCast"

