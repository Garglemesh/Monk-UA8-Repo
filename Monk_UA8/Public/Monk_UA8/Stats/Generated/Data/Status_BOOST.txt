new entry "FLURRYOFBLOWS_FIRSTSTRIKE"
type "StatusData"
data "StatusType" "BOOST"
data "Icon" "Action_Monk_FlurryOfBlows"
data "DisplayName" "h71ad0334g6051g4b97g9b4dg4d338bc5465c;1"
data "Description" "h8ed549a4ga454g49b4gb319g7335ccf73b3a;6"
data "Boosts" "UnlockSpell(Target_FlurryOfBlows_Single);UnlockSpellVariant(HasStringInSpellRoll('MeleeUnarmedAttack') and (HasUseCosts('ActionPoint')),ModifyIconGlow(),ModifyTooltipDescription(),ModifyUseCosts(Replace,ActionPoint,0,0,ActionPoint));IF(HasPassive('OpenHandUnlock',context.Source)):UnlockSpell(Target_OpenHandTechnique_Knock_Single);IF(HasPassive('OpenHandUnlock',context.Source)):UnlockSpell(Target_OpenHandTechnique_NoReactions_Single);IF(HasPassive('OpenHandUnlock',context.Source)):UnlockSpell(Target_OpenHandTechnique_Push_Single);"
data "RemoveEvents" "OnAttack"
data "RemoveConditions" "HasStringInSpellRoll('MeleeUnarmedAttack') and not SpellId('Shout_FlurryOfBlows')"
data "OnRemoveFunctors" "ApplyStatus(SELF, FLURRYOFBLOWS_SECONDSTRIKE, 100, 1)"

new entry "FLURRYOFBLOWS_SECONDSTRIKE"
type "StatusData"
data "StatusType" "BOOST"
using "FLURRYOFBLOWS_FIRSTSTRIKE"
data "DisplayName" "h06435e3agfca1g43efg88aag21dcd9eb7544;1"
data "RemoveEvents" "OnAttack"
data "RemoveConditions" "HasStringInSpellRoll('MeleeUnarmedAttack')"
data "OnRemoveFunctors" "IF(HasPassive('HeightenedDiscipline')):ApplyStatus(SELF, FLURRYOFBLOWS_THIRDSTRIKE, 100, 1)"

new entry "FLURRYOFBLOWS_THIRDSTRIKE"
type "StatusData"
data "StatusType" "BOOST"
using "FLURRYOFBLOWS_FIRSTSTRIKE"
data "DisplayName" "h06435e3agfca1g43efg88aag21dcd9eb7544;1"
data "RemoveEvents" "OnAttack"
data "RemoveConditions" "HasStringInSpellRoll('MeleeUnarmedAttack')"
data "OnRemoveFunctors" ""

new entry "UNCANNY_METABOLISM"
type "StatusData"
data "StatusType" "BOOST"
data "DisplayName" "h97ae83afg48a4g45ccg9edag0eb552007fc0;1"
data "Description" "h9281e830g4434g409dg9cddg41e93c4e4516;1"
data "DescriptionParams" "RegainHitPoints(LevelMapValue(MartialArts)+ClassLevel(Monk))"
data "TooltipDamageList" "RegainHitPoints(LevelMapValue(MartialArts)+ClassLevel(Monk))"
data "Icon" "Spell_HarmonyOfFireAndWater"
data "StackId" "UNCANNY_METABOLISM"
data "TickType" "EndTurn"
data "Boosts" "UnlockSpell(Shout_UncannyMetabolism)"

new entry "DEFLECT_ATTACKS"
type "StatusData"
data "StatusType" "BOOST"
data "DisplayName" "h199c545dgf0f6g41f0ga7d4ga418e899775e;1"
data "Description" "h2d7406degc858g47c2gbb3bg020a9f3ac0bd;1"
data "DescriptionParams" "6+DexterityModifier"
data "Icon" "Action_Monk_DeflectMissile"
data "StackId" "DEFLECT_ATTACKS"
data "Boosts" "IF(IsAttackType(AttackType.RangedWeaponAttack) or IsAttackType(AttackType.MeleeWeaponAttack) or IsAttackType(AttackType.MeleeUnarmedAttack)):DamageReduction(All,Flat,1d10+DexterityModifier)"
data "RemoveConditions" "(IsAttackType(AttackType.RangedWeaponAttack) or IsAttackType(AttackType.MeleeWeaponAttack) or IsAttackType(AttackType.MeleeUnarmedAttack) or (SpellTypeIs(SpellType.Throw) and HasWeaponProperty(WeaponProperties.Thrown,context.HitDescription.ThrownObject))) and (HasDamageEffectFlag(DamageFlags.Hit) or HasDamageEffectFlag(DamageFlags.Critical)) and not (IsCriticalMiss() or IsMiss())"
data "RemoveEvents" "OnAttacked"
data "StatusPropertyFlags" "DisableOverhead;DisableCombatlog"
data "OnRemoveFunctors" "IF(RemoveCause(StatusRemoveCause.Condition)):UseActionResource(ReactionActionPoint,1) "
data "StatusGroups" "SG_RemoveOnRespec"

new entry "DEFLECT_ATTACKS_TOGGLE"
type "StatusData"
data "StatusType" "BOOST"
data "DisplayName" "h59d50637g5343g4072gb725g00edef2bb7f7;1"
data "StackId" "DEFLECT_ATTACKS_TOGGLE"
data "TickFunctors" "ApplyStatus(DEFLECT_ATTACKS,100,-1) "
data "StatusPropertyFlags" "DisableOverhead;DisableCombatlog;DisablePortraitIndicator"
data "OnApplyFunctors" "IF(HasActionResource('ReactionActionPoint', 1, 0, false, false, context.Source)):ApplyStatus(DEFLECT_ATTACKS,100,-1)	"
data "StatusGroups" "SG_RemoveOnRespec"

new entry "DEFLECT_ATTACKS_HIT_TOGGLE"
type "StatusData"
data "StatusType" "BOOST"
data "DisplayName" "hb54f2d36g3747g46a6ga07egd53f55597fa5;2"
data "StackId" "DEFLECT_ATTACKS_HIT_TOGGLE"
data "RemoveConditions" "(IsAttackType(AttackType.RangedWeaponAttack) or IsAttackType(AttackType.MeleeWeaponAttack) or IsAttackType(AttackType.MeleeUnarmedAttack) or (SpellTypeIs(SpellType.Throw) and HasWeaponProperty(WeaponProperties.Thrown,context.HitDescription.ThrownObject))) and TotalDamageDoneGreaterThan(0) "
data "RemoveEvents" "OnAttacked"
data "StatusPropertyFlags" "DisableOverhead;DisableCombatlog;DisablePortraitIndicator"
data "OnRemoveFunctors" "IF(RemoveCause(StatusRemoveCause.Condition)):UseActionResource(ReactionActionPoint,1) "
data "StatusGroups" "SG_RemoveOnRespec"

new entry "ELEMENTAL_ATTUNEMENT"
type "StatusData"
data "StatusType" "BOOST"
data "DisplayName" "hdf929828gb2deg4d6egab5fg106ef774cb74;1"
data "Description" "hc54de76dg87d0g486fgaacag1c123d5a9868;1"
data "DescriptionParams" ""
data "TooltipDamageList" ""
data "Icon" "Spell_HarmonyOfFireAndWater"
data "StackId" "ELEMENTAL_ATTUNEMENT"
data "RemoveConditions" "HasAnyStatus({'SG_Incapacitated','SG_Stunned','SG_Polymorph'})"
data "RemoveEvents" "OnStatusApplied"
data "TickType" "EndTurn"
data "Boosts" "UnlockSpellVariant(MeleeUnarmedAttackCheck(),ModifyTargetRadius(Override,3.5));"
data "Passives" "ElementalStrikesAcid;ElementalStrikesCold;ElementalStrikesFire;ElementalStrikesLightning;"

new entry "DARKNESS_CASTER"
type "StatusData"
data "StatusType" "BOOST"
data "DisplayName" "ha391f8fegbc9fg4d3dga3d1g1a9a1e23b615;2"
data "StackId" "DARKNESS_CASTER"
data "TickType" "StartTurn"
data "StatusPropertyFlags" "DisableOverhead;DisableCombatlog;DisablePortraitIndicator"
data "OnApplyFunctors" "ApplyStatus(SELF,DARKNESS_RECAST,100,10)"

new entry "DARKNESS_CASTER_RECAST"
type "StatusData"
data "StatusType" "BOOST"
using "DARKNESS_CASTER"
data "OnApplyFunctors" ""

new entry "DARKNESS_RECAST"
type "StatusData"
data "StatusType" "BOOST"
data "DisplayName" "hf3eb3862g3b2bg4f0dg8816gbaf90f310077;2"
data "StackId" "DARKNESS_RECAST"
data "TickType" "EndTurn"
data "Boosts" "UnlockSpell(Target_Darkness_Recast)"
data "RemoveConditions" "not (HasStatus('DARKNESS_CASTER') or HasStatus('DARKNESS_CASTER_RECAST'))"
data "RemoveEvents" "OnTurn;OnDamage"
data "StatusPropertyFlags" "DisableOverhead;DisablePortraitIndicator;DisableCombatlog"